# Supabase Project Configuration
# This file is used by Supabase CLI for local development and branching

[project]
# Project reference ID - set via: supabase link --project-ref <id>
# project_id = "your-project-ref-id"

# Database Configuration
[db]
# Connection pooler settings for branching
# Development branch uses connection pooler for better performance
pooler = { enabled = true, port = 6543, pool_mode = "transaction" }

[functions.process-single-activity]
enabled = true
verify_jwt = true
# import_map = "./functions/process-single-activity/deno.json"
# Uncomment to specify a custom file path to the entrypoint.
# Supported file extensions are: .ts, .js, .mjs, .jsx, .tsx
entrypoint = "./functions/process-single-activity/index.ts"
# Specifies static files to be bundled with the function. Supports glob patterns.
# For example, if you want to serve static HTML pages in your function:
# static_files = [ "./functions/process-single-activity/*.html" ]

[functions.savvycal-leads-webhook]
verify_jwt = false

# JustCall integration (webhooks + OAuth callback must accept non-JWT requests)
[functions.justcall-webhook]
verify_jwt = false

[functions.justcall-oauth-callback]
verify_jwt = false

# Audio proxy is consumed by <audio> tags (Range requests) so we allow token via query string
[functions.proxy-justcall-recording]
verify_jwt = false

[functions.justcall-search]
verify_jwt = false

# Internal automation triggered by webhooks / server-side jobs.
# We disable platform JWT verification and enforce auth inside the function
# (service role bearer token, optional CRON_SECRET, or user JWT checks).
[functions.process-lead-prep]
verify_jwt = false

[functions.enrich-company]
verify_jwt = false
