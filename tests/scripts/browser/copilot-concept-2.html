<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Sales Copilot - Final Design</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        * {
            font-family: 'Inter', system-ui, sans-serif;
        }
        
        body {
            background-color: #030712;
            color: #F3F4F6;
        }
        
        /* Sexy Glassmorphism */
        .glass-card {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(55, 65, 81, 0.5);
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .glass-card-highlight {
            background: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(55, 65, 81, 0.5);
            box-shadow: 
                0 8px 16px -1px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
        }

        .glass-subtle {
            background: rgba(31, 41, 55, 0.4);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(55, 65, 81, 0.3);
        }
        
        /* Smooth animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.4s ease-out;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #374151;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #4B5563;
        }

        /* Custom checkbox */
        input[type="checkbox"] {
            appearance: none;
            width: 16px;
            height: 16px;
            border: 1px solid #374151;
            border-radius: 4px;
            background: rgba(31, 41, 55, 0.5);
            cursor: pointer;
            position: relative;
        }
        
        input[type="checkbox"]:checked {
            background: #3B82F6;
            border-color: #3B82F6;
        }
        
        input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            color: white;
            font-size: 12px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .hidden {
            display: none !important;
        }

        /* Hover lift */
        .hover-lift {
            transition: all 0.2s ease;
        }

        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 12px 24px -2px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen bg-gray-950">
        
        <!-- Top Nav -->
        <nav class="border-b border-gray-800/30 bg-gray-950/80 backdrop-blur-sm sticky top-0 z-40">
            <div class="max-w-6xl mx-auto px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-6">
                        <h1 class="text-lg font-semibold text-gray-100">Sixty Sales</h1>
                        <div class="flex gap-1">
                            <button id="dashboardTabBtn" class="px-3 py-1.5 text-sm text-gray-400 hover:text-gray-100 rounded-md transition-colors">
                                Dashboard
                            </button>
                            <button id="contactTabBtn" class="px-3 py-1.5 text-sm text-gray-400 hover:text-gray-100 rounded-md transition-colors">
                                Contact
                            </button>
                            <button id="copilotTabBtn" class="px-3 py-1.5 text-sm text-gray-400 hover:text-gray-100 rounded-md transition-colors flex items-center gap-1.5">
                                <i data-lucide="sparkles" class="w-3.5 h-3.5"></i>
                                Copilot
                            </button>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button id="commandPaletteBtn" class="px-3 py-1.5 text-xs text-gray-500 hover:text-gray-300 bg-gray-900/50 hover:bg-gray-900 rounded-md transition-all flex items-center gap-2">
                            <i data-lucide="search" class="w-3.5 h-3.5"></i>
                            <kbd class="px-1 py-0.5 bg-gray-800/50 rounded text-xs">⌘K</kbd>
                        </button>
                        <div class="w-7 h-7 bg-blue-600 rounded-full flex items-center justify-center text-xs font-medium text-white">
                            AB
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- DASHBOARD VIEW -->
        <div id="dashboardView" class="max-w-6xl mx-auto px-6 py-8">
            
            <!-- Header -->
            <div class="mb-8">
                <h2 class="text-2xl font-semibold text-gray-100 mb-1">Welcome back, Andrew</h2>
                <p class="text-sm text-gray-500">Here's your sales overview</p>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-4 gap-4 mb-8">
                <div class="glass-card rounded-xl p-5 hover-lift">
                    <div class="text-xs text-gray-500 mb-2">New Business</div>
                    <div class="text-2xl font-semibold text-gray-100 mb-1">£3,000</div>
                    <div class="text-xs text-gray-600">6% of £50K</div>
                </div>
                <div class="glass-card rounded-xl p-5 hover-lift">
                    <div class="text-xs text-gray-500 mb-2">Outbound</div>
                    <div class="text-2xl font-semibold text-gray-100 mb-1">3</div>
                    <div class="text-xs text-gray-600">3% of 100</div>
                </div>
                <div class="glass-card rounded-xl p-5 hover-lift">
                    <div class="text-xs text-gray-500 mb-2">Meetings</div>
                    <div class="text-2xl font-semibold text-gray-100 mb-1">17</div>
                    <div class="text-xs text-gray-600">34% of 50</div>
                </div>
                <div class="glass-card rounded-xl p-5 hover-lift">
                    <div class="text-xs text-gray-500 mb-2">Proposals</div>
                    <div class="text-2xl font-semibold text-gray-100 mb-1">0</div>
                    <div class="text-xs text-gray-600">0% of 20</div>
                </div>
            </div>

            <!-- AI Copilot Card -->
            <button id="openCopilotBtn" class="w-full glass-card-highlight rounded-xl p-6 mb-8 hover-lift text-left group border-l-4 border-l-blue-600">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center">
                            <i data-lucide="sparkles" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="text-base font-medium text-gray-100 mb-1">AI Copilot</div>
                            <div class="text-sm text-gray-400">Get personalized recommendations and insights</div>
                        </div>
                    </div>
                    <i data-lucide="arrow-right" class="w-5 h-5 text-gray-500 group-hover:text-gray-300 group-hover:translate-x-1 transition-all"></i>
                </div>
            </button>

            <!-- Pipeline Health -->
            <div class="mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-base font-medium text-gray-100">Pipeline Health</h3>
                    <div class="text-sm text-gray-500">Overall: <span class="text-emerald-400 font-medium">76</span></div>
                </div>

                <div class="space-y-3">
                    <!-- Deal Card 1 -->
                    <div class="glass-card rounded-xl p-5 hover-lift cursor-pointer">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-4 flex-1">
                                <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-sm font-medium text-white">
                                    AW
                                </div>
                                <div class="flex-1">
                                    <div class="text-sm font-medium text-gray-100 mb-0.5">Alexander Wolf</div>
                                    <div class="text-xs text-gray-500">£65K · Proposal · 3d ago</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="text-right">
                                    <div class="text-xs text-gray-500 mb-0.5">Health</div>
                                    <div class="text-lg font-semibold text-emerald-400">78</div>
                                </div>
                                <i data-lucide="chevron-right" class="w-4 h-4 text-gray-600"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Deal Card 2 - At Risk -->
                    <div class="glass-card rounded-xl p-5 hover-lift cursor-pointer border-l-4 border-l-amber-600">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-4 flex-1">
                                <div class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center text-sm font-medium text-white">
                                    ML
                                </div>
                                <div class="flex-1">
                                    <div class="text-sm font-medium text-gray-100 mb-0.5">Maik Lankau</div>
                                    <div class="text-xs text-gray-500">£42K · Discovery · <span class="text-amber-400 font-medium">11d ago</span></div>
                                </div>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="text-right">
                                    <div class="text-xs text-gray-500 mb-0.5">Health</div>
                                    <div class="text-lg font-semibold text-amber-400">42</div>
                                </div>
                                <i data-lucide="chevron-right" class="w-4 h-4 text-gray-600"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Deal Card 3 -->
                    <div class="glass-card rounded-xl p-5 hover-lift cursor-pointer">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-4 flex-1">
                                <div class="w-10 h-10 bg-emerald-600 rounded-full flex items-center justify-center text-sm font-medium text-white">
                                    RG
                                </div>
                                <div class="flex-1">
                                    <div class="text-sm font-medium text-gray-100 mb-0.5">Russell Gentry</div>
                                    <div class="text-xs text-gray-500">£38K · Negotiation · Today 2PM</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="text-right">
                                    <div class="text-xs text-gray-500 mb-0.5">Health</div>
                                    <div class="text-lg font-semibold text-emerald-400">85</div>
                                </div>
                                <i data-lucide="chevron-right" class="w-4 h-4 text-gray-600"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTACT RECORD VIEW - Full Featured -->
        <div id="contactView" class="hidden max-w-6xl mx-auto px-6 py-8">
            
            <!-- Contact Header -->
            <div class="mb-6 flex items-start justify-between">
                <div class="flex items-start gap-4">
                    <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-2xl font-bold text-white">
                        AW
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-100 mb-1">Alexander Wolf</h2>
                        <p class="text-sm text-gray-400 mb-2">Founder & CEO at Alexander Wolf Agency</p>
                        <div class="flex gap-2 mb-3">
                            <span class="px-2 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded text-xs font-semibold text-emerald-400">Active</span>
                            <span class="px-2 py-1 bg-blue-500/10 border border-blue-500/20 rounded text-xs font-semibold text-blue-400">High Value</span>
                        </div>
                        <div class="flex gap-4 text-sm">
                            <span class="flex items-center gap-1 text-gray-400">
                                <i data-lucide="mail" class="w-4 h-4"></i>
                                alexander@alexanderwolfagency.com
                            </span>
                            <span class="flex items-center gap-1 text-gray-400">
                                <i data-lucide="building" class="w-4 h-4"></i>
                                New York, USA
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Insights Banner -->
            <div class="mb-6 glass-card-highlight rounded-xl p-4 border-l-4 border-l-blue-600">
                <div class="flex gap-3">
                    <i data-lucide="sparkles" class="w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"></i>
                    <div class="flex-1">
                        <p class="text-sm font-medium text-blue-300 mb-1">AI Insight</p>
                        <p class="text-sm text-gray-300 mb-3">Alexander has opened your last 3 emails within 1 hour of receiving them. High engagement indicates strong interest. Best time to follow up: Mornings 9-10 AM EST.</p>
                        <button id="openCopilotFromContactBtn" class="text-xs font-semibold text-blue-400 hover:text-blue-300 flex items-center gap-1">
                            Ask Copilot about this contact
                            <i data-lucide="arrow-right" class="w-3 h-3"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <!-- Deal Health -->
                <div class="glass-card rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-sm font-semibold text-gray-100 flex items-center gap-2">
                            <i data-lucide="activity" class="w-4 h-4 text-blue-400"></i>
                            Deal Health
                        </h4>
                        <div class="flex items-center gap-2">
                            <span class="text-2xl font-bold text-emerald-400">78</span>
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                        </div>
                    </div>

                    <div class="space-y-3">
                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs font-medium text-gray-400">Engagement</span>
                                <span class="text-xs font-semibold text-emerald-400">High</span>
                            </div>
                            <div class="w-full h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full w-4/5 bg-gradient-to-r from-emerald-500 to-emerald-400"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs font-medium text-gray-400">Momentum</span>
                                <span class="text-xs font-semibold text-blue-400">Strong</span>
                            </div>
                            <div class="w-full h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full w-3/4 bg-gradient-to-r from-blue-500 to-blue-400"></div>
                            </div>
                        </div>

                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <span class="text-xs font-medium text-gray-400">Response Time</span>
                                <span class="text-xs font-semibold text-emerald-400">Fast</span>
                            </div>
                            <div class="w-full h-1.5 bg-gray-800 rounded-full overflow-hidden">
                                <div class="h-full w-[90%] bg-gradient-to-r from-emerald-500 to-emerald-400"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Key Stats -->
                <div class="glass-card rounded-xl p-6">
                    <h4 class="text-sm font-semibold text-gray-100 mb-4 flex items-center gap-2">
                        <i data-lucide="bar-chart-3" class="w-4 h-4 text-purple-400"></i>
                        Key Stats
                    </h4>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-400">Total Meetings</span>
                            <span class="text-sm font-semibold text-gray-100">5</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-400">Emails Sent</span>
                            <span class="text-sm font-semibold text-gray-100">12</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-400">Avg Response Time</span>
                            <span class="text-sm font-semibold text-emerald-400">2.3 hours</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-400">Deal Value</span>
                            <span class="text-sm font-semibold text-gray-100">£65,000</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-400">Close Probability</span>
                            <span class="text-sm font-semibold text-emerald-400">78%</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="glass-card rounded-xl p-6">
                    <h4 class="text-sm font-semibold text-gray-100 mb-4 flex items-center gap-2">
                        <i data-lucide="zap" class="w-4 h-4 text-amber-400"></i>
                        Quick Actions
                    </h4>
                    <div class="space-y-2">
                        <button id="draftEmailBtn" class="w-full px-4 py-2 text-sm font-semibold bg-blue-600/10 hover:bg-blue-600/20 text-blue-400 border border-blue-500/20 rounded-lg transition-all flex items-center justify-center gap-2">
                            <i data-lucide="mail" class="w-4 h-4"></i>
                            Draft AI Email
                        </button>
                        <button class="w-full px-4 py-2 text-sm font-semibold bg-gray-800/50 hover:bg-gray-800 text-gray-300 border border-gray-700/50 rounded-lg transition-all flex items-center justify-center gap-2">
                            <i data-lucide="phone" class="w-4 h-4"></i>
                            Schedule Call
                        </button>
                        <button class="w-full px-4 py-2 text-sm font-semibold bg-gray-800/50 hover:bg-gray-800 text-gray-300 border border-gray-700/50 rounded-lg transition-all flex items-center justify-center gap-2">
                            <i data-lucide="calendar" class="w-4 h-4"></i>
                            Book Meeting
                        </button>
                    </div>
                </div>
            </div>

            <!-- Meeting Summary & Activity -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Last Meeting Summary -->
                <div class="glass-card rounded-xl p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-sm font-semibold text-gray-100 flex items-center gap-2">
                            <i data-lucide="video" class="w-4 h-4 text-purple-400"></i>
                            Last Meeting Summary
                        </h4>
                        <span class="text-xs text-gray-500">Nov 1, 2025</span>
                    </div>

                    <div class="space-y-4">
                        <div>
                            <h5 class="text-xs font-semibold text-gray-400 uppercase mb-2">Key Discussion Points</h5>
                            <ul class="space-y-1.5 text-sm text-gray-300">
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-400">•</span>
                                    Discussed Q1 2026 budget allocation for content services
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-400">•</span>
                                    Alexander expressed concerns about implementation timeline
                                </li>
                                <li class="flex items-start gap-2">
                                    <span class="text-blue-400">•</span>
                                    Requested case studies from similar literary agencies
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h5 class="text-xs font-semibold text-gray-400 uppercase mb-2">Action Items</h5>
                            <div class="space-y-2">
                                <label class="flex items-start gap-2 cursor-pointer group">
                                    <input type="checkbox" checked class="mt-1">
                                    <span class="text-sm text-gray-500 line-through">Send proposal with phased approach</span>
                                </label>
                                <label class="flex items-start gap-2 cursor-pointer group">
                                    <input type="checkbox" class="mt-1">
                                    <span class="text-sm text-gray-300 group-hover:text-gray-100">Share Crimson Literary case study</span>
                                </label>
                            </div>
                        </div>

                        <div class="pt-4 border-t border-gray-800/50">
                            <div class="flex items-center justify-between">
                                <span class="text-xs text-gray-400">Meeting Sentiment</span>
                                <div class="flex items-center gap-2">
                                    <span class="text-xs font-medium text-emerald-400">Positive</span>
                                    <div class="flex gap-0.5">
                                        <div class="w-1 h-4 rounded-full bg-emerald-500"></div>
                                        <div class="w-1 h-4 rounded-full bg-emerald-500"></div>
                                        <div class="w-1 h-4 rounded-full bg-emerald-500"></div>
                                        <div class="w-1 h-4 rounded-full bg-emerald-500"></div>
                                        <div class="w-1 h-4 rounded-full bg-gray-700"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="glass-card rounded-xl p-6">
                    <h4 class="text-sm font-semibold text-gray-100 mb-4 flex items-center gap-2">
                        <i data-lucide="clock" class="w-4 h-4 text-blue-400"></i>
                        Recent Activity
                    </h4>

                    <div class="space-y-4">
                        <div class="flex gap-3">
                            <div class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                                <i data-lucide="mail-open" class="w-4 h-4 text-blue-400"></i>
                            </div>
                            <div class="flex-1">
                                <p class="text-sm text-gray-300 mb-1">Opened email "Q4 Proposal"</p>
                                <p class="text-xs text-gray-500">2 hours ago</p>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <div class="w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                                <i data-lucide="check-circle-2" class="w-4 h-4 text-emerald-400"></i>
                            </div>
                            <div class="flex-1">
                                <p class="text-sm text-gray-300 mb-1">Completed meeting</p>
                                <p class="text-xs text-gray-500">3 days ago</p>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <div class="w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center flex-shrink-0">
                                <i data-lucide="mail" class="w-4 h-4 text-purple-400"></i>
                            </div>
                            <div class="flex-1">
                                <p class="text-sm text-gray-300 mb-1">Replied to your email</p>
                                <p class="text-xs text-gray-500">5 days ago</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COPILOT VIEW - Centered Chat First -->
        <div id="copilotView" class="hidden">
            <!-- Empty State (Before Interaction) -->
            <div id="copilotEmpty" class="max-w-3xl mx-auto px-6 py-16 min-h-screen flex flex-col items-center justify-center">
                
                <!-- Icon -->
                <div class="w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mb-6">
                    <i data-lucide="sparkles" class="w-8 h-8 text-white"></i>
                </div>

                <!-- Title -->
                <h1 class="text-2xl font-semibold text-gray-100 mb-2">AI Copilot</h1>
                <p class="text-sm text-gray-500 mb-12 text-center max-w-md">
                    Ask me anything about your pipeline, deals, or what to focus on today
                </p>

                <!-- Chat Input (Centered) -->
                <div class="w-full max-w-2xl mb-8">
                    <div class="glass-card-highlight rounded-xl p-4">
                        <div class="flex items-center gap-3">
                            <input 
                                id="chatInputEmpty"
                                type="text"
                                placeholder="What should I focus on today?"
                                class="flex-1 bg-transparent text-sm text-gray-100 placeholder-gray-500 focus:outline-none"
                            />
                            <button id="sendEmpty" class="px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors">
                                Send
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Suggestion Prompts -->
                <div class="w-full max-w-2xl space-y-3">
                    <div class="text-xs text-gray-500 text-center mb-4">Try asking:</div>
                    <button id="suggestion1" class="w-full text-left px-5 py-4 glass-card rounded-xl hover:bg-gray-900/40 transition-all group">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-300">What should I prioritize today?</span>
                            <i data-lucide="arrow-right" class="w-4 h-4 text-gray-600 group-hover:text-gray-400 group-hover:translate-x-1 transition-all"></i>
                        </div>
                    </button>
                    <button id="suggestion2" class="w-full text-left px-5 py-4 glass-card rounded-xl hover:bg-gray-900/40 transition-all group">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-300">Show me deals that need attention</span>
                            <i data-lucide="arrow-right" class="w-4 h-4 text-gray-600 group-hover:text-gray-400 group-hover:translate-x-1 transition-all"></i>
                        </div>
                    </button>
                    <button id="suggestion3" class="w-full text-left px-5 py-4 glass-card rounded-xl hover:bg-gray-900/40 transition-all group">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-300">Draft a follow-up email for Alexander Wolf</span>
                            <i data-lucide="arrow-right" class="w-4 h-4 text-gray-600 group-hover:text-gray-400 group-hover:translate-x-1 transition-all"></i>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Active State (After Interaction) - Hidden Initially -->
            <div id="copilotActive" class="hidden max-w-4xl mx-auto px-6 py-8 min-h-screen">
                
                <!-- Conversation Feed -->
                <div class="space-y-8 mb-8">
                    
                    <!-- User Message -->
                    <div class="flex justify-end">
                        <div class="glass-subtle rounded-xl px-5 py-3 max-w-2xl">
                            <p class="text-sm text-gray-100">What should I prioritize today?</p>
                        </div>
                    </div>

                    <!-- AI Response -->
                    <div class="space-y-6">
                        <div class="text-sm text-gray-300 leading-relaxed">
                            Based on your pipeline and recent activity, here's what I recommend focusing on today:
                        </div>

                        <!-- Priority 1 -->
                        <div class="glass-card rounded-xl p-6">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-9 h-9 bg-blue-600 rounded-lg flex items-center justify-center text-sm font-medium text-white flex-shrink-0">
                                    1
                                </div>
                                <div class="flex-1 space-y-3">
                                    <div>
                                        <div class="text-base font-medium text-gray-100 mb-2">Follow up with Alexander Wolf</div>
                                        <div class="text-sm text-gray-400 leading-relaxed">
                                            He's opened your last email 3 times in the past hour. This level of engagement is rare - follow up now while you have his attention.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-3 pl-13">
                                <button id="draftEmailCopilot" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors">
                                    Draft Email
                                </button>
                                <button class="px-4 py-2 glass-subtle hover:bg-gray-900/50 text-gray-300 text-sm font-medium rounded-lg transition-colors">
                                    Call Instead
                                </button>
                            </div>
                        </div>

                        <!-- Priority 2 -->
                        <div class="glass-card rounded-xl p-6 border-l-4 border-l-amber-600">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-9 h-9 bg-amber-600 rounded-lg flex items-center justify-center text-sm font-medium text-white flex-shrink-0">
                                    2
                                </div>
                                <div class="flex-1 space-y-3">
                                    <div>
                                        <div class="text-base font-medium text-gray-100 mb-2">Re-engage Maik Lankau</div>
                                        <div class="text-sm text-gray-400 leading-relaxed">
                                            No contact in 11 days. This £42K deal is at risk. Send a value-focused check-in to restart the conversation.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-3 pl-13">
                                <button class="px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white text-sm font-medium rounded-lg transition-colors">
                                    Draft Re-engagement
                                </button>
                            </div>
                        </div>

                        <!-- Priority 3 -->
                        <div class="glass-card rounded-xl p-6">
                            <div class="flex items-start gap-4 mb-4">
                                <div class="w-9 h-9 bg-purple-600 rounded-lg flex items-center justify-center text-sm font-medium text-white flex-shrink-0">
                                    3
                                </div>
                                <div class="flex-1 space-y-3">
                                    <div>
                                        <div class="text-base font-medium text-gray-100 mb-2">Prep for Russell Gentry meeting</div>
                                        <div class="text-sm text-gray-400 leading-relaxed">
                                            Meeting at 2:00 PM today. Review the prep brief with key talking points and discovery questions.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex gap-3 pl-13">
                                <button class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-lg transition-colors">
                                    View Brief
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Input (Bottom) -->
                <div class="glass-card-highlight rounded-xl p-4 sticky bottom-6">
                    <div class="flex items-center gap-3">
                        <input 
                            id="chatInputActive"
                            type="text"
                            placeholder="Ask me anything..."
                            class="flex-1 bg-transparent text-sm text-gray-100 placeholder-gray-500 focus:outline-none"
                        />
                        <button class="px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors">
                            Send
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Email Draft Modal -->
        <div id="emailDraftModal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6 animate-fade-in">
            <div class="w-full max-w-2xl glass-card-highlight rounded-xl overflow-hidden">
                
                <!-- Header -->
                <div class="flex items-center justify-between p-5 border-b border-gray-800/30">
                    <div class="text-base font-medium text-gray-100">Draft Email</div>
                    <button id="closeEmailDraftBtn" class="text-gray-500 hover:text-gray-300 transition-colors">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>

                <!-- Content -->
                <div class="p-5 space-y-4">
                    <div>
                        <label class="block text-xs text-gray-500 mb-2">To</label>
                        <input value="alexander@alexanderwolfagency.com" class="w-full px-3 py-2 glass-subtle rounded-lg text-sm text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500/50" readonly>
                    </div>

                    <div>
                        <label class="block text-xs text-gray-500 mb-2">Subject</label>
                        <input value="Following up on our conversation" class="w-full px-3 py-2 glass-subtle rounded-lg text-sm text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500/50">
                    </div>

                    <div>
                        <label class="block text-xs text-gray-500 mb-2">Message</label>
                        <textarea rows="10" class="w-full px-3 py-2 glass-subtle rounded-lg text-sm text-gray-100 leading-relaxed focus:outline-none focus:ring-2 focus:ring-blue-500/50 resize-none">Hi Alexander,

Thanks for reviewing the proposal. I noticed you've been looking it over and wanted to check if you have any questions.

As discussed, the phased approach addresses your timeline concerns:
• Phase 1: Quick wins in 30 days
• Phase 2: Full implementation by day 60  
• Phase 3: Optimization by day 90

I've also attached the Crimson Literary case study you requested.

Happy to jump on a quick call if helpful. How does your calendar look this week?

Best,
Andrew</textarea>
                    </div>
                </div>

                <!-- Footer -->
                <div class="flex items-center justify-end gap-3 p-5 border-t border-gray-800/30">
                    <button class="px-4 py-2 glass-subtle hover:bg-gray-900/50 text-gray-300 text-sm font-medium rounded-lg transition-colors">
                        Save Draft
                    </button>
                    <button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors">
                        Send
                    </button>
                </div>
            </div>
        </div>

        <!-- Command Palette Modal -->
        <div id="commandPaletteModal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-start justify-center pt-[20vh] animate-fade-in">
            <div class="w-full max-w-2xl glass-card-highlight rounded-2xl overflow-hidden">
                
                <!-- Search Input -->
                <div class="flex items-center gap-3 p-4 border-b border-gray-800/30">
                    <i data-lucide="search" class="w-5 h-5 text-gray-400"></i>
                    <input 
                        id="commandPaletteInput"
                        type="text" 
                        placeholder="Search contacts, deals, or ask Copilot..." 
                        autofocus 
                        class="flex-1 bg-transparent text-gray-100 placeholder-gray-500 text-base focus:outline-none"
                    >
                    <kbd class="px-2 py-1 bg-gray-800/50 border border-gray-700/50 rounded text-xs text-gray-400">ESC</kbd>
                </div>

                <!-- Results -->
                <div class="max-h-[60vh] overflow-y-auto p-2">
                    <!-- Quick Actions -->
                    <div class="px-3 py-2">
                        <p class="text-xs font-semibold text-gray-500 uppercase mb-2">Quick Actions</p>
                        <div class="space-y-1">
                            <button class="w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 rounded-lg transition-colors text-left">
                                <i data-lucide="mail" class="w-4 h-4 text-gray-400"></i>
                                <span class="text-sm text-gray-300 flex-1">Draft follow-up email</span>
                                <kbd class="px-1.5 py-0.5 bg-gray-800 border border-gray-700/50 rounded text-xs text-gray-500">E</kbd>
                            </button>
                            <button id="openCopilotFromPalette" class="w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 rounded-lg transition-colors text-left">
                                <i data-lucide="sparkles" class="w-4 h-4 text-gray-400"></i>
                                <span class="text-sm text-gray-300 flex-1">Open Copilot</span>
                                <kbd class="px-1.5 py-0.5 bg-gray-800 border border-gray-700/50 rounded text-xs text-gray-500">C</kbd>
                            </button>
                            <button class="w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 rounded-lg transition-colors text-left">
                                <i data-lucide="plus-circle" class="w-4 h-4 text-gray-400"></i>
                                <span class="text-sm text-gray-300 flex-1">Add new contact</span>
                                <kbd class="px-1.5 py-0.5 bg-gray-800 border border-gray-700/50 rounded text-xs text-gray-500">N</kbd>
                            </button>
                            <button class="w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 rounded-lg transition-colors text-left">
                                <i data-lucide="calendar" class="w-4 h-4 text-gray-400"></i>
                                <span class="text-sm text-gray-300 flex-1">Schedule meeting</span>
                                <kbd class="px-1.5 py-0.5 bg-gray-800 border border-gray-700/50 rounded text-xs text-gray-500">M</kbd>
                            </button>
                        </div>
                    </div>

                    <!-- Recent Contacts -->
                    <div class="px-3 py-2 mt-2 border-t border-gray-800/30">
                        <p class="text-xs font-semibold text-gray-500 uppercase mb-2">Recent Contacts</p>
                        <div class="space-y-1">
                            <button class="w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 rounded-lg transition-colors text-left">
                                <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-xs font-bold text-white flex-shrink-0">
                                    AW
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm text-gray-300">Alexander Wolf</p>
                                    <p class="text-xs text-gray-500">Alexander Wolf Agency</p>
                                </div>
                            </button>
                            <button class="w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 rounded-lg transition-colors text-left">
                                <div class="w-8 h-8 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center text-xs font-bold text-white flex-shrink-0">
                                    RG
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm text-gray-300">Russell Gentry</p>
                                    <p class="text-xs text-gray-500">M1 Data</p>
                                </div>
                            </button>
                        </div>
                    </div>

                    <!-- AI Suggestions -->
                    <div class="px-3 py-2 mt-2 border-t border-gray-800/30">
                        <p class="text-xs font-semibold text-gray-500 uppercase mb-2 flex items-center gap-2">
                            <i data-lucide="sparkles" class="w-3 h-3"></i>
                            Ask Copilot
                        </p>
                        <div class="space-y-1">
                            <button id="paletteSuggestion1" class="w-full flex items-start gap-3 px-3 py-2 hover:bg-blue-500/10 hover:border-blue-500/20 border border-transparent rounded-lg transition-all text-left">
                                <i data-lucide="arrow-right" class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"></i>
                                <span class="text-sm text-gray-300">What are my top priorities today?</span>
                            </button>
                            <button id="paletteSuggestion2" class="w-full flex items-start gap-3 px-3 py-2 hover:bg-blue-500/10 hover:border-blue-500/20 border border-transparent rounded-lg transition-all text-left">
                                <i data-lucide="arrow-right" class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"></i>
                                <span class="text-sm text-gray-300">Show me at-risk deals</span>
                            </button>
                            <button id="paletteSuggestion3" class="w-full flex items-start gap-3 px-3 py-2 hover:bg-blue-500/10 hover:border-blue-500/20 border border-transparent rounded-lg transition-all text-left">
                                <i data-lucide="arrow-right" class="w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"></i>
                                <span class="text-sm text-gray-300">Summarize my pipeline for this week</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        lucide.createIcons();

        const dashboardView = document.getElementById('dashboardView');
        const contactView = document.getElementById('contactView');
        const copilotView = document.getElementById('copilotView');
        const copilotEmpty = document.getElementById('copilotEmpty');
        const copilotActive = document.getElementById('copilotActive');

        function showView(view) {
            dashboardView.classList.add('hidden');
            contactView.classList.add('hidden');
            copilotView.classList.add('hidden');
            view.classList.remove('hidden');
            lucide.createIcons();
        }

        document.getElementById('dashboardTabBtn').addEventListener('click', () => showView(dashboardView));
        document.getElementById('contactTabBtn').addEventListener('click', () => showView(contactView));
        document.getElementById('copilotTabBtn').addEventListener('click', () => {
            showView(copilotView);
            copilotEmpty.classList.remove('hidden');
            copilotActive.classList.add('hidden');
        });

        document.getElementById('openCopilotBtn').addEventListener('click', () => {
            showView(copilotView);
            copilotEmpty.classList.remove('hidden');
            copilotActive.classList.add('hidden');
        });

        const openFromContact = document.getElementById('openCopilotFromContactBtn');
        if (openFromContact) {
            openFromContact.addEventListener('click', () => {
                showView(copilotView);
                copilotEmpty.classList.remove('hidden');
                copilotActive.classList.add('hidden');
            });
        }

        // Copilot interaction triggers
        function showCopilotFeed() {
            copilotEmpty.classList.add('hidden');
            copilotActive.classList.remove('hidden');
            lucide.createIcons();
        }

        document.getElementById('sendEmpty').addEventListener('click', showCopilotFeed);
        document.getElementById('suggestion1').addEventListener('click', showCopilotFeed);
        document.getElementById('suggestion2').addEventListener('click', showCopilotFeed);
        document.getElementById('suggestion3').addEventListener('click', showCopilotFeed);

        // Email modal
        const emailModal = document.getElementById('emailDraftModal');
        const draftEmailBtn = document.getElementById('draftEmailBtn');
        const draftEmailCopilot = document.getElementById('draftEmailCopilot');
        const closeEmailBtn = document.getElementById('closeEmailDraftBtn');

        if (draftEmailBtn) {
            draftEmailBtn.addEventListener('click', () => emailModal.classList.remove('hidden'));
        }
        if (draftEmailCopilot) {
            draftEmailCopilot.addEventListener('click', () => emailModal.classList.remove('hidden'));
        }
        if (closeEmailBtn) {
            closeEmailBtn.addEventListener('click', () => emailModal.classList.add('hidden'));
        }

        emailModal.addEventListener('click', (e) => {
            if (e.target === emailModal) emailModal.classList.add('hidden');
        });

        // Command Palette
        const commandPaletteModal = document.getElementById('commandPaletteModal');
        const commandPaletteBtn = document.getElementById('commandPaletteBtn');
        const commandPaletteInput = document.getElementById('commandPaletteInput');

        if (commandPaletteBtn) {
            commandPaletteBtn.addEventListener('click', () => {
                commandPaletteModal.classList.remove('hidden');
                setTimeout(() => commandPaletteInput.focus(), 100);
            });
        }

        commandPaletteModal.addEventListener('click', (e) => {
            if (e.target === commandPaletteModal) {
                commandPaletteModal.classList.add('hidden');
            }
        });

        // Open Copilot from command palette
        const openCopilotFromPalette = document.getElementById('openCopilotFromPalette');
        if (openCopilotFromPalette) {
            openCopilotFromPalette.addEventListener('click', () => {
                commandPaletteModal.classList.add('hidden');
                showView(copilotView);
                copilotEmpty.classList.remove('hidden');
                copilotActive.classList.add('hidden');
            });
        }

        // AI Suggestions from command palette
        const paletteSuggestion1 = document.getElementById('paletteSuggestion1');
        const paletteSuggestion2 = document.getElementById('paletteSuggestion2');
        const paletteSuggestion3 = document.getElementById('paletteSuggestion3');

        function openCopilotWithSuggestion() {
            commandPaletteModal.classList.add('hidden');
            showView(copilotView);
            showCopilotFeed();
        }

        if (paletteSuggestion1) {
            paletteSuggestion1.addEventListener('click', openCopilotWithSuggestion);
        }
        if (paletteSuggestion2) {
            paletteSuggestion2.addEventListener('click', openCopilotWithSuggestion);
        }
        if (paletteSuggestion3) {
            paletteSuggestion3.addEventListener('click', openCopilotWithSuggestion);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Command/Ctrl + K for command palette
            if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
                e.preventDefault();
                commandPaletteModal.classList.remove('hidden');
                setTimeout(() => commandPaletteInput.focus(), 100);
            }
            
            // Escape to close modals
            if (e.key === 'Escape') {
                emailModal.classList.add('hidden');
                commandPaletteModal.classList.add('hidden');
            }
            
            // Command/Ctrl + C for Copilot (when not in input)
            if ((e.metaKey || e.ctrlKey) && e.key === 'c' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                showView(copilotView);
                copilotEmpty.classList.remove('hidden');
                copilotActive.classList.add('hidden');
            }
        });

        setInterval(() => lucide.createIcons(), 1000);
    </script>

</body>
</html>