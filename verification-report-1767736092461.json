{
  "timestamp": "2026-01-06T21:48:11.507Z",
  "coreChecks": {
    "calendarConnection": {
      "passed": false,
      "message": "❌ No active calendar connections found",
      "details": []
    },
    "recordingSettings": {
      "passed": true,
      "message": "✅ 1/21 organization(s) have auto-record enabled",
      "details": [
        {
          "id": "1d1b4274-c9c4-4cb7-9efc-243c90c86f4c",
          "name": "Sixty Seconds",
          "auto_record_enabled": true,
          "has_webhook_token": true,
          "lead_time_minutes": 2
        },
        {
          "id": "821bbbdb-174b-4ca7-b4cd-0872f328488c",
          "name": "andrew bryce's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": true,
          "lead_time_minutes": 2
        },
        {
          "id": "1370dfc1-d9da-4529-afc5-a58eac529999",
          "name": "Andrew Bryce's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "ad8902be-d397-49e7-a578-54a2fe541db9",
          "name": "Example",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "15a49e9b-3e6e-4c13-a975-4815bc983026",
          "name": "Organization 2",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "ca28851b-43a5-4970-b262-44c4bd517568",
          "name": "Organization 3",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "20114627-3635-44a2-98ea-3775b2cd60e5",
          "name": "Example1",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "9eba5acb-c1f6-42cb-b53f-73e87f94ae7a",
          "name": "Digitalocean",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "46133daa-ae6b-474a-8960-d77452c3c32b",
          "name": "Gmail",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "49641e79-3b9a-4587-af2b-bb96a3d14676",
          "name": "gfd hgf's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "e72fa9bf-1338-4a09-9e1d-ab4b8a27356c",
          "name": "Andrew Bryce's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "50962ec4-1302-40bd-9146-2e6e295af9be",
          "name": "Andrew Bryce's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "c0d405d7-117d-4c00-9c5b-25bf8a7801e3",
          "name": "M P's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "d9df5f2a-2fd2-4b6f-aa26-673413b7b453",
          "name": "Sixtytester",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "8154f754-b3fa-4e13-ac57-89a32f6ac989",
          "name": "SixtyTest",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "980c352e-4adb-4359-835d-afd3eed925f1",
          "name": "SixtyTest22",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "7d2824e7-bf41-4778-9d34-00c95c15afd5",
          "name": "test",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "6bd42689-6bbe-4d47-b5b6-07dfb8c02a11",
          "name": "M Test's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "9bd50bda-96be-4f85-8ca8-fcec6323f524",
          "name": "Hele Bryce's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "07bf11e8-33f8-4208-9bb1-294cf0664ba0",
          "name": "JaJaJa",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        },
        {
          "id": "16af55d7-a400-4c71-baac-6aee340e2c79",
          "name": "Andrew bryce's Organization",
          "auto_record_enabled": false,
          "has_webhook_token": false,
          "lead_time_minutes": 2
        }
      ]
    },
    "upcomingEvents": {
      "passed": false,
      "message": "❌ Error checking upcoming events: column calendar_events.summary does not exist",
      "details": {
        "code": "42703",
        "details": null,
        "hint": null,
        "message": "column calendar_events.summary does not exist"
      }
    },
    "eventsHaveOrgId": {
      "passed": true,
      "message": "✅ All calendar events have org_id populated",
      "details": {
        "missing_org_id_count": 0
      }
    },
    "cronJobExists": {
      "passed": false,
      "message": "⚠️  Cannot verify cron job (may need superuser permissions): Could not find the table 'public.cron.job' in the schema cache",
      "details": {
        "code": "PGRST205",
        "details": null,
        "hint": "Perhaps you meant the table 'public.cron_job_logs'",
        "message": "Could not find the table 'public.cron.job' in the schema cache"
      }
    },
    "serviceRoleKey": {
      "passed": false,
      "message": "⚠️  Cannot verify vault secrets (may need superuser permissions): Could not find the table 'public.vault.secrets' in the schema cache",
      "details": {
        "code": "PGRST205",
        "details": null,
        "hint": "Perhaps you meant the table 'public.justcall_integration_secrets'",
        "message": "Could not find the table 'public.vault.secrets' in the schema cache"
      }
    },
    "recentDeployments": {
      "passed": false,
      "message": "⚠️  No recent recording deployments (may be expected if no meetings scheduled)",
      "details": {
        "total": 0,
        "successful": 0,
        "pending": 0,
        "failed": 0,
        "recent": []
      }
    }
  },
  "optionalChecks": {
    "externalAttendeeFiltering": {
      "passed": false,
      "message": "⚠️  19 org(s) have external filtering enabled but missing company_domain",
      "details": {
        "enabled_count": 21,
        "missing_domain": [
          {
            "id": "821bbbdb-174b-4ca7-b4cd-0872f328488c",
            "name": "andrew bryce's Organization"
          },
          {
            "id": "1370dfc1-d9da-4529-afc5-a58eac529999",
            "name": "Andrew Bryce's Organization"
          },
          {
            "id": "ad8902be-d397-49e7-a578-54a2fe541db9",
            "name": "Example"
          },
          {
            "id": "15a49e9b-3e6e-4c13-a975-4815bc983026",
            "name": "Organization 2"
          },
          {
            "id": "ca28851b-43a5-4970-b262-44c4bd517568",
            "name": "Organization 3"
          },
          {
            "id": "20114627-3635-44a2-98ea-3775b2cd60e5",
            "name": "Example1"
          },
          {
            "id": "9eba5acb-c1f6-42cb-b53f-73e87f94ae7a",
            "name": "Digitalocean"
          },
          {
            "id": "46133daa-ae6b-474a-8960-d77452c3c32b",
            "name": "Gmail"
          },
          {
            "id": "e72fa9bf-1338-4a09-9e1d-ab4b8a27356c",
            "name": "Andrew Bryce's Organization"
          },
          {
            "id": "50962ec4-1302-40bd-9146-2e6e295af9be",
            "name": "Andrew Bryce's Organization"
          },
          {
            "id": "c0d405d7-117d-4c00-9c5b-25bf8a7801e3",
            "name": "M P's Organization"
          },
          {
            "id": "d9df5f2a-2fd2-4b6f-aa26-673413b7b453",
            "name": "Sixtytester"
          },
          {
            "id": "8154f754-b3fa-4e13-ac57-89a32f6ac989",
            "name": "SixtyTest"
          },
          {
            "id": "980c352e-4adb-4359-835d-afd3eed925f1",
            "name": "SixtyTest22"
          },
          {
            "id": "7d2824e7-bf41-4778-9d34-00c95c15afd5",
            "name": "test"
          },
          {
            "id": "6bd42689-6bbe-4d47-b5b6-07dfb8c02a11",
            "name": "M Test's Organization"
          },
          {
            "id": "9bd50bda-96be-4f85-8ca8-fcec6323f524",
            "name": "Hele Bryce's Organization"
          },
          {
            "id": "07bf11e8-33f8-4208-9bb1-294cf0664ba0",
            "name": "JaJaJa"
          },
          {
            "id": "16af55d7-a400-4c71-baac-6aee340e2c79",
            "name": "Andrew bryce's Organization"
          }
        ]
      }
    },
    "leadTimeConfiguration": {
      "passed": true,
      "message": "ℹ️  Average lead time: 2.0 minutes",
      "details": [
        {
          "org": "Sixty Seconds",
          "lead_time": 2
        },
        {
          "org": "andrew bryce's Organization",
          "lead_time": 2
        },
        {
          "org": "Andrew Bryce's Organization",
          "lead_time": 2
        },
        {
          "org": "Example",
          "lead_time": 2
        },
        {
          "org": "Organization 2",
          "lead_time": 2
        },
        {
          "org": "Organization 3",
          "lead_time": 2
        },
        {
          "org": "Example1",
          "lead_time": 2
        },
        {
          "org": "Digitalocean",
          "lead_time": 2
        },
        {
          "org": "Gmail",
          "lead_time": 2
        },
        {
          "org": "gfd hgf's Organization",
          "lead_time": 2
        },
        {
          "org": "Andrew Bryce's Organization",
          "lead_time": 2
        },
        {
          "org": "Andrew Bryce's Organization",
          "lead_time": 2
        },
        {
          "org": "M P's Organization",
          "lead_time": 2
        },
        {
          "org": "Sixtytester",
          "lead_time": 2
        },
        {
          "org": "SixtyTest",
          "lead_time": 2
        },
        {
          "org": "SixtyTest22",
          "lead_time": 2
        },
        {
          "org": "test",
          "lead_time": 2
        },
        {
          "org": "M Test's Organization",
          "lead_time": 2
        },
        {
          "org": "Hele Bryce's Organization",
          "lead_time": 2
        },
        {
          "org": "JaJaJa",
          "lead_time": 2
        },
        {
          "org": "Andrew bryce's Organization",
          "lead_time": 2
        }
      ]
    },
    "webhookEvents": {
      "passed": true,
      "message": "ℹ️  No recent webhook events (expected if no meetings joined yet)",
      "details": []
    }
  },
  "summary": {
    "totalPassed": 4,
    "totalFailed": 6,
    "criticalIssues": [
      "No calendar connected to MeetingBaas",
      "Org \"andrew bryce's Organization\": auto_record_enabled is false",
      "Org \"Andrew Bryce's Organization\": auto_record_enabled is false",
      "Org \"Example\": auto_record_enabled is false",
      "Org \"Organization 2\": auto_record_enabled is false",
      "Org \"Organization 3\": auto_record_enabled is false",
      "Org \"Example1\": auto_record_enabled is false",
      "Org \"Digitalocean\": auto_record_enabled is false",
      "Org \"Gmail\": auto_record_enabled is false",
      "Org \"gfd hgf's Organization\": auto_record_enabled is false",
      "Org \"Andrew Bryce's Organization\": auto_record_enabled is false",
      "Org \"Andrew Bryce's Organization\": auto_record_enabled is false",
      "Org \"M P's Organization\": auto_record_enabled is false",
      "Org \"Sixtytester\": auto_record_enabled is false",
      "Org \"SixtyTest\": auto_record_enabled is false",
      "Org \"SixtyTest22\": auto_record_enabled is false",
      "Org \"test\": auto_record_enabled is false",
      "Org \"M Test's Organization\": auto_record_enabled is false",
      "Org \"Hele Bryce's Organization\": auto_record_enabled is false",
      "Org \"JaJaJa\": auto_record_enabled is false",
      "Org \"Andrew bryce's Organization\": auto_record_enabled is false"
    ],
    "warnings": [
      "Org \"Andrew Bryce's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"Example\": Missing webhook token (will be auto-generated)",
      "Org \"Organization 2\": Missing webhook token (will be auto-generated)",
      "Org \"Organization 3\": Missing webhook token (will be auto-generated)",
      "Org \"Example1\": Missing webhook token (will be auto-generated)",
      "Org \"Digitalocean\": Missing webhook token (will be auto-generated)",
      "Org \"Gmail\": Missing webhook token (will be auto-generated)",
      "Org \"gfd hgf's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"Andrew Bryce's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"Andrew Bryce's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"M P's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"Sixtytester\": Missing webhook token (will be auto-generated)",
      "Org \"SixtyTest\": Missing webhook token (will be auto-generated)",
      "Org \"SixtyTest22\": Missing webhook token (will be auto-generated)",
      "Org \"test\": Missing webhook token (will be auto-generated)",
      "Org \"M Test's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"Hele Bryce's Organization\": Missing webhook token (will be auto-generated)",
      "Org \"JaJaJa\": Missing webhook token (will be auto-generated)",
      "Org \"Andrew bryce's Organization\": Missing webhook token (will be auto-generated)",
      "Cannot access cron.job table - check manually in Supabase Dashboard",
      "Cannot access vault.secrets table - check manually in Supabase Dashboard",
      "External filtering enabled but company_domain not set - will record all meetings"
    ],
    "recommendations": []
  }
}