import{j as e}from"./vendor-state-CpjwTZNq.js";import{r as g}from"./vendor-react-DoYyFkVR.js";import{c as ve,m as we,p as Ne,f as _e,B as P,D as Te,a as h,l as Se}from"./index.html-Cwo_Unfk.js";import{I as te}from"./input-CeE6qNqI.js";import{T as Ce}from"./textarea-C78yVaZk.js";import{L as b}from"./label-B9drN7Ag.js";import{S as L,a as F,b as A,c as O,d as j}from"./select-BFsZCfaH.js";import{Dialog as De,DialogContent as Me,DialogHeader as ke,DialogTitle as He,DialogDescription as $e,DialogFooter as Pe}from"./dialog-BBMx1wit.js";import{P as Le,a as Fe,b as Ae}from"./popover-BxJ1Vfi_.js";import{B as y}from"./badge-C6MYiXDB.js";import{c as Oe,T as Ue,aE as Ee,i as Q,k as Ie,a4 as ae,X as We,a3 as Be}from"./vendor-icons-HRBKouGg.js";import{p as o,j as U,Q as z,R as V,a as Qe,J as S,I as C,C as ze,n as Ve,X as Ye}from"./vendor-utils-Cb9OXVhE.js";const lt=({task:l,isOpen:se,onClose:E,onTaskCreated:Y,dealId:I="",companyId:re="",contactId:p="",contactEmail:M="",contactName:f="",company:N=""})=>{const{userData:u,isLoading:W}=ve(),{users:le}=we(),{contacts:ie}=Ne(),{createTask:ne,updateTask:oe}=_e(),[J,R]=g.useState(!1),[s,c]=g.useState({title:"",description:"",task_type:"call",priority:"medium",due_date:"",assigned_to:u?.id||"",deal_id:I,contact_name:f,company:N}),[de,B]=g.useState(!1),[ce,v]=g.useState(""),[X,w]=g.useState([]),[d,_]=g.useState(null),[n,k]=g.useState(void 0),[T,H]=g.useState("09:00"),[me,G]=g.useState(!1);o(new Date,"yyyy-MM-dd'T'09:00"),o(U(new Date,1),"yyyy-MM-dd'T'09:00"),o(U(new Date,7),"yyyy-MM-dd'T'09:00");const K=[{value:"call",label:"Phone Call",icon:"üìû",color:"bg-blue-500/20 text-blue-400"},{value:"email",label:"Email",icon:"‚úâÔ∏è",color:"bg-green-500/20 text-green-400"},{value:"meeting",label:"Meeting",icon:"ü§ù",color:"bg-purple-500/20 text-purple-400"},{value:"follow_up",label:"Follow Up",icon:"üîÑ",color:"bg-orange-500/20 text-orange-400"},{value:"demo",label:"Demo",icon:"üéØ",color:"bg-indigo-500/20 text-indigo-400"},{value:"proposal",label:"Proposal",icon:"üìã",color:"bg-yellow-500/20 text-yellow-400"},{value:"general",label:"General",icon:"‚ö°",color:"bg-gray-500/20 text-gray-400"}],Z=[{value:"low",label:"Low",icon:"üü¢",color:"bg-green-500/20 text-green-400 border-green-500/30"},{value:"medium",label:"Medium",icon:"üü°",color:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},{value:"high",label:"High",icon:"üü†",color:"bg-orange-500/20 text-orange-400 border-orange-500/30"},{value:"urgent",label:"Urgent",icon:"üî¥",color:"bg-red-500/20 text-red-400 border-red-500/30"}];g.useEffect(()=>{if(l){const t=l.due_date?new Date(l.due_date):void 0;c({title:l.title,description:l.description||"",task_type:l.task_type,priority:l.priority,due_date:l.due_date?o(t,"yyyy-MM-dd'T'HH:mm"):"",assigned_to:l.assigned_to,deal_id:l.deal_id||"",contact_name:l.contact_name||"",company:l.company||""}),t&&(k(t),H(o(t,"HH:mm"))),l.assigned_to==="client"&&(B(!0),l.contact_name&&(_({id:p,full_name:l.contact_name,email:M,company:l.company}),v(l.contact_name)))}else c({title:"",description:"",task_type:"call",priority:"medium",due_date:"",assigned_to:u?.id||"current-user",deal_id:I,contact_name:f,company:N}),k(void 0),H("09:00"),B(!1),_(null),v(""),w([])},[l,u?.id,I,f,N,p,M]);const $=(t,a)=>{c(r=>({...r,[t]:a}))},xe=t=>{c(r=>({...r,assigned_to:t}));const a=t==="client";B(a),a?(p&&f?(_({id:p,full_name:f,email:M,company:N}),v(f),c(r=>({...r,assigned_to:t,contact_name:f,company:N||""}))):(_(null),v("")),w([])):(v(""),w([]),_(null),c(r=>({...r,assigned_to:t,contact_name:f||"",company:N||""})))},ge=async t=>{if(v(t),t.length<2){w([]);return}try{const a=await ie.filter(r=>r.full_name?.toLowerCase().includes(t.toLowerCase())||r.first_name?.toLowerCase().includes(t.toLowerCase())||r.last_name?.toLowerCase().includes(t.toLowerCase())||r.email?.toLowerCase().includes(t.toLowerCase())||r.company?.toLowerCase().includes(t.toLowerCase())).slice(0,10);w(a)}catch{w([])}},he=t=>{_(t),v(t.full_name||`${t.first_name||""} ${t.last_name||""}`.trim()),w([]),c(a=>({...a,contact_name:t.full_name||`${t.first_name||""} ${t.last_name||""}`.trim(),company:t.company||a.company}))},ue=t=>{if(c(a=>({...a,due_date:t})),t){const a=new Date(t);k(a),H(o(a,"HH:mm"))}},be=t=>{if(k(t),G(!1),t&&T)try{const[a,r]=T.split(":"),i=C(S(t,parseInt(r)||0),parseInt(a)||9),m=o(i,"yyyy-MM-dd'T'HH:mm");c(x=>({...x,due_date:m}))}catch{const r=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${T}`;c(i=>({...i,due_date:r}))}},ye=t=>{if(H(t),n)try{const[a,r]=t.split(":"),i=C(S(n,parseInt(r)||0),parseInt(a)||9),m=o(i,"yyyy-MM-dd'T'HH:mm");c(x=>({...x,due_date:m}))}catch{const r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}T${t}`;c(i=>({...i,due_date:r}))}},pe=()=>{try{const t=new Date,a=U(t,1),r=U(ze(Ve(t,1)),1);return[{label:"In 1 Hour",value:o(Ye(t,60),"yyyy-MM-dd'T'HH:mm"),icon:"‚è∞"},{label:"End of Day",value:o(C(S(t,0),17),"yyyy-MM-dd'T'HH:mm"),icon:"üåÖ"},{label:"Tomorrow 9 AM",value:o(C(S(a,0),9),"yyyy-MM-dd'T'HH:mm"),icon:"üìÖ"},{label:"Next Monday",value:o(C(S(r,0),9),"yyyy-MM-dd'T'HH:mm"),icon:"üìÜ"}]}catch{const a=new Date;return[{label:"In 1 Hour",value:new Date(a.getTime()+60*60*1e3).toISOString().slice(0,16),icon:"‚è∞"},{label:"Tomorrow",value:new Date(a.getTime()+24*60*60*1e3).toISOString().slice(0,16),icon:"üìÖ"}]}},fe=async t=>{if(t.preventDefault(),!s.title.trim()){h.error("Task title is required");return}if(!s.assigned_to){h.error("Please assign this task to someone");return}if(s.assigned_to==="client"&&!d){h.error("Please search and select a client contact");return}if(W||!u){h.error("Please wait for user data to load");return}R(!0);try{const a=s.assigned_to==="client",r=s.assigned_to==="steve"||s.assigned_to==="phil",i=a?d:null;let m=s.assigned_to;a?m=u?.id||"current-user":r?m=s.assigned_to:s.assigned_to==="current-user"&&(m=u?.id||"current-user");const x={title:s.title.trim(),description:s.description.trim()||void 0,task_type:s.task_type,priority:s.priority,due_date:s.due_date?new Date(s.due_date).toISOString():void 0,assigned_to:m,deal_id:s.deal_id||void 0,contact_name:i?i.full_name||`${i.first_name||""} ${i.last_name||""}`.trim():s.contact_name.trim()||void 0,company:s.company.trim()||void 0,contact_email:i?.email||M||void 0,company_id:i?.company_id||re||void 0,contact_id:i?.id||p||void 0,notes:a?`Task assigned to client: ${i?.full_name||i?.email}`:void 0};if(l)await oe(l.id,x),h.success("Task updated successfully");else{const D=await ne(x);if(Se.log("Task created successfully:",D),Y&&D&&Y(D),a)h.success(`Task created and assigned to client: ${i?.full_name||"contact"}`);else if(r){const je=s.assigned_to==="steve"?"Steve":"Phil";h.success(`Task created and assigned to ${je}`)}else s.assigned_to===u?.id?h.success("Task created and assigned to you"):h.success("Task created successfully")}setTimeout(()=>{E()},100)}catch{h.error("Failed to save task. Please try again.")}finally{R(!1)}},q=K.find(t=>t.value===s.task_type),ee=Z.find(t=>t.value===s.priority);return e.jsx(De,{open:se,onOpenChange:E,children:e.jsxs(Me,{className:"sm:max-w-2xl glassmorphism border-gray-700/50",children:[e.jsxs(ke,{className:"pb-4",children:[e.jsxs(He,{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(Oe,{className:"w-6 h-6 text-blue-400"}),l?"Edit Task":"Create New Task"]}),e.jsx($e,{className:"text-gray-400 text-base",children:l?"Update your task details":"Set up a new task quickly and efficiently"})]}),e.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(b,{htmlFor:"title",className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-blue-400"}),"What needs to be done? *"]}),e.jsx(te,{id:"title",value:s.title,onChange:t=>$("title",t.target.value),placeholder:"e.g., Call John about the proposal",className:"bg-gray-800/70 border-gray-600/50 text-white text-lg p-4 rounded-xl focus:border-blue-500/50 focus:ring-blue-500/20 placeholder:text-gray-400",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{className:"text-base font-medium text-white flex items-center gap-2",children:"‚ö° Task Type"}),e.jsxs(L,{value:s.task_type,onValueChange:t=>$("task_type",t),children:[e.jsx(F,{className:"bg-gray-800/70 border-gray-600/50 h-12 text-base rounded-xl text-white",children:e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("span",{className:"text-lg",children:q?.icon}),e.jsx("span",{className:"text-white",children:q?.label})]})})}),e.jsx(O,{className:"bg-gray-800 border-gray-600 text-white",children:K.map(t=>e.jsx(j,{value:t.value,className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"text-white",children:t.label})]})},t.value))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(b,{className:"text-base font-medium text-white flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-yellow-400"}),"Priority"]}),e.jsxs(L,{value:s.priority,onValueChange:t=>$("priority",t),children:[e.jsx(F,{className:"bg-gray-800/70 border-gray-600/50 h-12 text-base rounded-xl text-white",children:e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("span",{className:"text-lg",children:ee?.icon}),e.jsx("span",{className:"text-white",children:ee?.label})]})})}),e.jsx(O,{className:"bg-gray-800 border-gray-600 text-white",children:Z.map(t=>e.jsx(j,{value:t.value,className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"text-white",children:t.label})]})},t.value))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(b,{className:"text-base font-medium text-white flex items-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4 text-green-400"}),"When is this due?"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:pe().map(t=>e.jsxs(P,{type:"button",variant:"outline",size:"sm",onClick:()=>ue(t.value),className:"bg-gray-800/50 border-gray-600/50 text-gray-300 hover:bg-gray-700/70 hover:text-white flex items-center gap-2 h-12",children:[e.jsx("span",{className:"text-base",children:t.icon}),e.jsx("span",{className:"text-xs font-medium",children:t.label})]},t.label))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"text-sm text-gray-300",children:"Pick Date"}),e.jsxs(Le,{open:me,onOpenChange:G,children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(P,{variant:"outline",className:"w-full bg-gray-800/70 border-gray-600/50 text-white h-12 rounded-xl hover:bg-gray-700/70 justify-start",children:[e.jsx(Ie,{className:"mr-3 h-5 w-5 text-gray-400"}),n?e.jsxs("span",{className:"text-white",children:[o(n,"MMM dd, yyyy"),z(n)&&" (Today)",V(n)&&" (Tomorrow)"]}):e.jsx("span",{className:"text-gray-400",children:"Select date..."})]})}),e.jsx(Ae,{className:"w-auto p-0 bg-gray-800 border-gray-600",align:"start",children:e.jsx(Te,{mode:"single",selected:n,onSelect:be,disabled:t=>t<Qe(new Date),className:"rounded-md",classNames:{months:"text-white",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center text-white",caption_label:"text-sm font-medium text-white",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 bg-transparent p-0 text-gray-400 hover:text-white",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-gray-400 rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"text-center text-sm p-0 relative [&:has([aria-selected])]:bg-gray-700 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-9 w-9 p-0 font-normal text-white hover:bg-gray-700 rounded-md",day_selected:"bg-blue-500 text-white hover:bg-blue-600 focus:bg-blue-500 focus:text-white",day_today:"bg-gray-700 text-white",day_outside:"text-gray-500 opacity-50",day_disabled:"text-gray-500 opacity-50",day_hidden:"invisible"}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{className:"text-sm text-gray-300",children:"Pick Time"}),e.jsxs(L,{value:T,onValueChange:ye,children:[e.jsx(F,{className:"bg-gray-800/70 border-gray-600/50 h-12 text-white rounded-xl",children:e.jsx(A,{children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-white",children:T})]})})}),e.jsx(O,{className:"bg-gray-800 border-gray-600 text-white max-h-64 overflow-y-auto",children:Array.from({length:24},(t,a)=>Array.from({length:4},(r,i)=>{const m=i*15,x=`${a.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`,D=o(S(C(new Date,a),m),"h:mm a");return!x||x.trim()===""?null:e.jsx(j,{value:x,className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:"text-white",children:D})})},x)})).flat().filter(Boolean)})]})]})]}),n&&e.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:e.jsx(Q,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-green-400 font-medium",children:["Due: ",o(n,"EEEE, MMMM do, yyyy")," at ",T]}),e.jsxs("div",{className:"text-gray-400 text-sm",children:[z(n)&&"Today",V(n)&&"Tomorrow",!z(n)&&!V(n)&&`In ${Math.ceil((n.getTime()-new Date().getTime())/(1e3*60*60*24))} days`]})]}),e.jsx(y,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Set"})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(b,{className:"text-base font-medium text-white flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-purple-400"}),"Who's responsible? *"]}),e.jsxs(L,{value:s.assigned_to,onValueChange:xe,children:[e.jsx(F,{className:"bg-gray-800/70 border-gray-600/50 h-12 text-base rounded-xl text-white",children:e.jsx(A,{placeholder:"Choose someone...",className:"text-gray-400 placeholder:text-gray-400"})}),e.jsxs(O,{className:"bg-gray-800 border-gray-600 text-white",children:[e.jsx(j,{value:u?.id||"current-user",className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"ME"}),e.jsx("span",{className:"text-white",children:"Me"}),e.jsx(y,{variant:"outline",className:"ml-2 text-xs bg-green-500/20 text-green-400 border-green-500/30",children:"You"})]})}),e.jsx(j,{value:"client",className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"CL"}),e.jsx("span",{className:"text-white",children:"Client"}),e.jsx(y,{variant:"outline",className:"ml-2 text-xs bg-orange-500/20 text-orange-400 border-orange-500/30",children:p?"Auto-map":"Search"})]})}),e.jsx("div",{className:"px-2 py-1 text-xs font-semibold text-blue-400 uppercase tracking-wide mt-2",children:"Sales Team"}),le.filter(t=>t.id!==u?.id).map(t=>e.jsx(j,{value:t.id,className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:[t.first_name?.[0],t.last_name?.[0]]}),e.jsxs("span",{className:"text-white",children:[t.first_name," ",t.last_name]}),e.jsx(y,{variant:"outline",className:"ml-2 text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Team"})]})},`user-${t.id}`)),e.jsx(j,{value:"steve",className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"ST"}),e.jsx("span",{className:"text-white",children:"Steve"}),e.jsx(y,{variant:"outline",className:"ml-2 text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Team"})]})}),e.jsx(j,{value:"phil",className:"text-white hover:bg-gray-700 focus:bg-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"PH"}),e.jsx("span",{className:"text-white",children:"Phil"}),e.jsx(y,{variant:"outline",className:"ml-2 text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:"Team"})]})})]})]})]}),de&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{className:"text-base font-medium text-orange-400 flex items-center gap-2",children:"üë• Client Contact"}),d&&p?e.jsxs("div",{className:"p-4 bg-orange-500/10 border border-orange-500/30 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:d.full_name?.[0]||"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-orange-400 font-medium",children:d.full_name}),d.email&&e.jsx("div",{className:"text-gray-400 text-sm",children:d.email}),d.company&&e.jsx("div",{className:"text-gray-500 text-xs",children:d.company})]}),e.jsx(y,{className:"bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Current Contact"})]}),e.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{children:"Automatically mapped from contact page"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(te,{value:ce,onChange:t=>ge(t.target.value),placeholder:"Type to search contacts by name, email, or company...",className:"bg-gray-800/70 border-gray-600/50 text-white h-12 rounded-xl placeholder:text-gray-400"}),X.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800/95 border border-gray-600/50 rounded-xl shadow-lg z-50 max-h-64 overflow-y-auto",children:X.map(t=>e.jsxs("div",{onClick:()=>he(t),className:"flex items-center gap-3 p-3 hover:bg-gray-700/50 cursor-pointer border-b border-gray-700/30 last:border-b-0",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:t.first_name?.[0]||t.full_name?.[0]||"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:t.full_name||`${t.first_name||""} ${t.last_name||""}`.trim()}),t.email&&e.jsx("div",{className:"text-gray-400 text-sm",children:t.email}),t.company&&e.jsx("div",{className:"text-gray-500 text-xs",children:t.company})]}),e.jsx(y,{variant:"outline",className:"text-xs bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Select"})]},t.id))}),d&&!p&&e.jsx("div",{className:"mt-2 p-3 bg-orange-500/10 border border-orange-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:d.full_name?.[0]||"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-orange-400 font-medium",children:d.full_name}),d.email&&e.jsx("div",{className:"text-gray-400 text-sm",children:d.email})]}),e.jsx(y,{className:"bg-orange-500/20 text-orange-400 border-orange-500/30",children:"Selected"})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(b,{htmlFor:"description",className:"text-base font-medium text-gray-300",children:"Additional Details (Optional)"}),e.jsx(Ce,{id:"description",value:s.description,onChange:t=>$("description",t.target.value),placeholder:"Any extra context or notes...",rows:3,className:"bg-gray-800/70 border-gray-600/50 text-white resize-none rounded-xl placeholder:text-gray-400"})]}),(s.contact_name||s.company)&&e.jsxs("div",{className:"glassmorphism-light p-4 rounded-xl border border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-blue-400",children:"Task Context"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.contact_name&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx(ae,{className:"w-3 h-3"}),e.jsxs("span",{children:["Contact: ",s.contact_name]})]}),s.company&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx("span",{className:"w-3 h-3 text-center",children:"üè¢"}),e.jsxs("span",{children:["Company: ",s.company]})]})]})]}),e.jsxs(Pe,{className:"flex gap-3 pt-6",children:[e.jsxs(P,{type:"button",variant:"outline",onClick:E,className:"bg-gray-800/50 border-gray-600/50 text-gray-300 hover:bg-gray-700/70 hover:text-white h-12 px-6",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsx(P,{type:"submit",disabled:J||W,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white h-12 px-8 rounded-xl shadow-lg shadow-blue-500/20 hover:shadow-blue-500/30 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:J?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),l?"Updating...":"Creating..."]}):W?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Loading user..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),l?"Update Task":"Create Task"]})})]})]})]})})};export{lt as T};
