import{j as e}from"./vendor-state-CpjwTZNq.js";import{r as d,a as G}from"./vendor-react-DoYyFkVR.js";import{e as ne,s as A,B as u,g as w}from"./index.html-Cwo_Unfk.js";import{B as y}from"./badge-C6MYiXDB.js";import{Table as me,TableHeader as xe,TableRow as ge,TableHead as f,TableBody as he,TableCell as N}from"./table-C4c75fDG.js";import{a as le,c as ue,L as Y,R as pe,b as J}from"./vendor-router-CQXjpROx.js";import{motion as l,AnimatePresence as ye}from"./ui-animation-Dzb4KUJ1.js";import{av as P,a4 as U,U as W,aa as be,aw as je,k as oe,i as q,ag as ve,z as fe,ax as Ne,a7 as z,a5 as K,ay as Q,ao as we,F as _e,af as ke,an as Me,T as Se,f as Ce,d as X,a9 as Z,az as ee,ai as Te}from"./vendor-icons-HRBKouGg.js";import{p as B}from"./vendor-utils-Cb9OXVhE.js";import{T as Re,a as De,b as ae,c as re}from"./tabs-C3YOVIlH.js";import{P as O}from"./progress-ZbeJO0kq.js";import"./vendor-supabase-BuXd-BBn.js";import"./ui-radix-core-CdvL28QE.js";import"./vendor-charts-D4YcUEy1.js";import"./ui-radix-extended-CHWFg20j.js";function V(s){return s===null?"Unknown":s<=-.25?"Challenging":s<.25?"Neutral":"Positive"}function te(s){return s===null?"default":s<=-.25?"destructive":s<.25?"default":"success"}const L=({title:s,value:n,sub:o,icon:x,trend:r})=>e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02,y:-2},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-xl rounded-2xl p-4 border border-gray-800/50 shadow-lg hover:shadow-xl hover:border-gray-700/60 transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative flex items-start justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"text-gray-400 text-xs font-medium uppercase tracking-wider",children:s}),e.jsx("div",{className:"text-2xl font-bold text-gray-100",children:n}),o&&e.jsx("div",{className:w("text-xs font-medium",r==="up"?"text-emerald-400":r==="down"?"text-red-400":"text-gray-500"),children:o})]}),x&&e.jsx("div",{className:"text-gray-600 group-hover:text-gray-400 transition-colors",children:x})]})]}),Ie=()=>{const s=le(),{user:n}=ne(),[o,x]=d.useState([]),[r,R]=d.useState(!0),[j,D]=d.useState("me"),[_,k]=d.useState("list"),[i,I]=d.useState({meetingsThisMonth:0,avgDuration:0,actionItemsOpen:0,avgSentiment:0,avgCoachRating:0});d.useEffect(()=>{M()},[j,n]);const M=async()=>{if(n){R(!0);try{let t=A.from("meetings").select(`
          *,
          company:companies(name, domain),
          action_items:meeting_action_items(completed)
        `).order("meeting_start",{ascending:!1});j==="me"&&(t=t.eq("owner_user_id",n.id));const{data:p,error:g}=await t;if(g)throw g;x(p||[]),C(p||[])}catch{}finally{R(!1)}}},C=t=>{const p=new Date,g=new Date(p.getFullYear(),p.getMonth(),1),v=t.filter(c=>new Date(c.meeting_start)>=g),$=t.reduce((c,b)=>c+(b.duration_minutes||0),0),H=t.length>0?Math.round($/t.length):0,a=t.reduce((c,b)=>{const ce=b.action_items?.filter(de=>!de.completed).length||0;return c+ce},0),m=t.filter(c=>c.sentiment_score!==null).map(c=>c.sentiment_score),h=m.length>0?m.reduce((c,b)=>c+b,0)/m.length:0,T=t.filter(c=>c.coach_rating!==null).map(c=>c.coach_rating),S=T.length>0?Math.round(T.reduce((c,b)=>c+b,0)/T.length):0;I({meetingsThisMonth:v.length,avgDuration:H,actionItemsOpen:a,avgSentiment:h,avgCoachRating:S})},E=t=>{s(`/meetings/${t}`)};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 backdrop-blur-sm rounded-xl border border-emerald-500/20",children:e.jsx(P,{className:"h-6 w-6 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-100 to-gray-300 bg-clip-text text-transparent",children:"Meetings"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Review your recorded conversations and insights"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(l.div,{whileHover:{scale:1.02},className:"bg-gray-900/50 backdrop-blur-xl rounded-xl p-1 border border-gray-800/50 shadow-lg",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:()=>D("me"),className:w("relative transition-all duration-200",j==="me"?"bg-gray-800/70 backdrop-blur-sm border border-gray-700/50 text-gray-100 shadow-md":"hover:bg-gray-800/30 text-gray-400"),children:[e.jsx(U,{className:"h-4 w-4 mr-1.5"}),"My"]}),e.jsxs(u,{variant:"ghost",size:"sm",onClick:()=>D("team"),className:w("relative transition-all duration-200",j==="team"?"bg-gray-800/70 backdrop-blur-sm border border-gray-700/50 text-gray-100 shadow-md":"hover:bg-gray-800/30 text-gray-400"),children:[e.jsx(W,{className:"h-4 w-4 mr-1.5"}),"Team"]})]}),e.jsxs(l.div,{whileHover:{scale:1.02},className:"bg-gray-900/50 backdrop-blur-xl rounded-xl p-1 border border-gray-800/50 shadow-lg",children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>k("list"),className:w("relative transition-all duration-200",_==="list"?"bg-gray-800/70 backdrop-blur-sm border border-gray-700/50 text-gray-100 shadow-md":"hover:bg-gray-800/30 text-gray-400"),children:e.jsx(be,{className:"h-4 w-4"})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>k("grid"),className:w("relative transition-all duration-200",_==="grid"?"bg-gray-800/70 backdrop-blur-sm border border-gray-700/50 text-gray-100 shadow-md":"hover:bg-gray-800/30 text-gray-400"),children:e.jsx(je,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[e.jsx(L,{title:"This Month",value:i.meetingsThisMonth.toString(),icon:e.jsx(oe,{className:"h-5 w-5"}),trend:i.meetingsThisMonth>0?"up":"neutral"}),e.jsx(L,{title:"Avg Duration",value:`${i.avgDuration}m`,icon:e.jsx(q,{className:"h-5 w-5"})}),e.jsx(L,{title:"Open Tasks",value:i.actionItemsOpen.toString(),icon:e.jsx(ve,{className:"h-5 w-5"}),trend:i.actionItemsOpen>0?"down":"neutral"}),e.jsx(L,{title:"Sentiment",value:V(i.avgSentiment),sub:i.avgSentiment!==0?`${i.avgSentiment>0?"+":""}${i.avgSentiment.toFixed(2)}`:void 0,icon:e.jsx(fe,{className:"h-5 w-5"}),trend:i.avgSentiment>.25?"up":i.avgSentiment<-.25?"down":"neutral"}),e.jsx(L,{title:"Coach Score",value:i.avgCoachRating?`${i.avgCoachRating}%`:"N/A",icon:e.jsx(Ne,{className:"h-5 w-5"}),trend:i.avgCoachRating>75?"up":i.avgCoachRating<50?"down":"neutral"})]}),e.jsx(ye,{mode:"wait",children:_==="list"?e.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"bg-gradient-to-br from-gray-900/60 to-gray-900/30 backdrop-blur-xl rounded-2xl border border-gray-800/50 overflow-hidden shadow-2xl",children:e.jsxs(me,{children:[e.jsx(xe,{children:e.jsxs(ge,{className:"border-gray-800/50 hover:bg-gray-800/20",children:[e.jsx(f,{className:"text-gray-400",children:"Title"}),e.jsx(f,{className:"text-gray-400",children:"Company"}),e.jsx(f,{className:"text-gray-400",children:"Rep"}),e.jsx(f,{className:"text-gray-400",children:"Date"}),e.jsx(f,{className:"text-gray-400",children:"Duration"}),e.jsx(f,{className:"text-gray-400",children:"Sentiment"}),e.jsx(f,{className:"text-gray-400",children:"Coach"}),e.jsx(f,{className:"text-gray-400",children:"Tasks"}),e.jsx(f,{})]})}),e.jsx(he,{children:o.map((t,p)=>{const g=t.action_items?.filter(v=>!v.completed).length||0;return e.jsxs(l.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:p*.05},className:"border-gray-800/50 hover:bg-gray-800/20 transition-colors group",children:[e.jsx(N,{className:"font-medium text-gray-200",children:t.title||"Untitled"}),e.jsx(N,{className:"text-gray-400",children:t.company?.name||"-"}),e.jsx(N,{className:"text-gray-400",children:t.owner_email?.split("@")[0]}),e.jsx(N,{className:"text-gray-400",children:t.meeting_start?B(new Date(t.meeting_start),"dd MMM yyyy"):"-"}),e.jsx(N,{className:"text-gray-400",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"}),t.duration_minutes||0,"m"]})}),e.jsx(N,{children:e.jsx(y,{variant:te(t.sentiment_score),className:"backdrop-blur-sm",children:V(t.sentiment_score)})}),e.jsx(N,{children:t.coach_rating!==null&&e.jsxs(y,{variant:"secondary",className:"backdrop-blur-sm",children:[t.coach_rating,"%"]})}),e.jsx(N,{children:g>0&&e.jsx("span",{className:"text-amber-400 font-medium",children:g})}),e.jsx(N,{children:e.jsx(u,{size:"sm",variant:"ghost",onClick:()=>E(t.id),className:"hover:bg-gray-800/50 hover:text-emerald-400 transition-colors group-hover:opacity-100 opacity-70",children:e.jsx(z,{className:"h-4 w-4"})})})]},t.id)})})]})},"list"):e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map((t,p)=>{const g=t.action_items?.filter(v=>!v.completed).length||0;return e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:p*.05},whileHover:{scale:1.02,y:-4},className:"bg-gradient-to-br from-gray-900/70 to-gray-900/40 backdrop-blur-xl rounded-2xl p-5 border border-gray-800/50 hover:border-gray-700/60 transition-all duration-300 shadow-xl hover:shadow-2xl group cursor-pointer",onClick:()=>E(t.id),children:[e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl mb-4 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(P,{className:"h-8 w-8 text-gray-600"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-gray-900/80 backdrop-blur-sm rounded-lg text-xs text-gray-300 flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"}),t.duration_minutes||0,"m"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-100 group-hover:text-emerald-400 transition-colors line-clamp-1",children:t.title||"Untitled Meeting"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t.company?.name||"No company"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(y,{variant:te(t.sentiment_score),className:"backdrop-blur-sm text-xs",children:V(t.sentiment_score)}),t.coach_rating!==null&&e.jsxs(y,{variant:"secondary",className:"backdrop-blur-sm text-xs",children:["Coach: ",t.coach_rating,"%"]}),g>0&&e.jsxs(y,{variant:"outline",className:"backdrop-blur-sm text-xs border-amber-500/50 text-amber-400",children:[g," tasks"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-800/50",children:[e.jsx("div",{className:"text-xs text-gray-500",children:t.meeting_start?B(new Date(t.meeting_start),"dd MMM yyyy"):"No date"}),e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),t.owner_email?.split("@")[0]]})]})]})]},t.id)})},"grid")}),o.length===0&&e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-gray-900/60 to-gray-900/30 backdrop-blur-xl rounded-2xl p-12 border border-gray-800/50 text-center shadow-xl",children:[e.jsx(P,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"No meetings found"}),e.jsx("p",{className:"text-gray-500",children:"Meetings will appear here once they are synced from Fathom."})]})]})};function Ae(s){if(!s)return null;try{return/^https?:\/\//i.test(s)?new URL(s).pathname.split("/").filter(Boolean).pop()||null:s.trim()}catch{return null}}function se(s,n){const o=new URL(`https://fathom.video/embed/${s}`);return n&&typeof n.autoplay=="boolean"&&o.searchParams.set("autoplay",n.autoplay?"1":"0"),n&&typeof n.timestamp=="number"&&!Number.isNaN(n.timestamp)&&n.timestamp>0&&o.searchParams.set("timestamp",String(Math.floor(n.timestamp))),o.toString()}const $e=({shareUrl:s,id:n,autoplay:o=!1,startSeconds:x=0,aspectRatio:r="16 / 9",className:R="",title:j="Fathom video"})=>{const D=d.useRef(null),[_,k]=d.useState(""),i=n??Ae(s);d.useEffect(()=>{if(i){const M=se(i,{autoplay:o,timestamp:x});k(M)}},[i,o,x]);const I=M=>{if(i){const C=se(i,{autoplay:!0,timestamp:M});k(C)}};return G.useImperativeHandle(G.forwardRef((M,C)=>C),()=>({seekToTimestamp:I}),[i]),i?e.jsx("div",{className:`relative w-full bg-black rounded-2xl overflow-hidden ${R}`,style:{aspectRatio:typeof r=="number"?String(r):r},children:e.jsx("iframe",{ref:D,src:_,title:j,className:"absolute inset-0 w-full h-full border-0",loading:"lazy",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; fullscreen",allowFullScreen:!0})}):null};function Le(s){return s===null?"Unknown":s<=-.25?"Challenging":s<.25?"Neutral":"Positive"}function F(s){return s===null?"default":s<=-.25?"destructive":s<.25?"default":"success"}function ie(s){const n=Math.floor(s/3600),o=Math.floor(s%3600/60),x=Math.floor(s%60);return n>0?`${n}:${o.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`:`${o}:${x.toString().padStart(2,"0")}`}function ze(s){switch(s){case"urgent":return"text-red-400 bg-red-500/10 border-red-500/20";case"high":return"text-orange-400 bg-orange-500/10 border-orange-500/20";case"medium":return"text-yellow-400 bg-yellow-500/10 border-yellow-500/20";case"low":return"text-blue-400 bg-blue-500/10 border-blue-500/20";default:return"text-gray-400 bg-gray-500/10 border-gray-500/20"}}const Pe=()=>{const{id:s}=ue(),n=le(),{user:o}=ne(),x=d.useRef(null),[r,R]=d.useState(null),[j,D]=d.useState([]),[_,k]=d.useState([]),[i,I]=d.useState(!0),[M,C]=d.useState(0);d.useEffect(()=>{s&&E()},[s]);const E=async()=>{if(!(!s||!o)){I(!0);try{const{data:a,error:m}=await A.from("meetings").select(`
          *,
          company:companies(id, name, domain),
          contact:contacts(id, first_name, last_name, email)
        `).eq("id",s).single();if(m)throw m;const{data:h}=await A.from("meeting_metrics").select("*").eq("meeting_id",s).single();h&&(a.sentiment_score=h.sentiment_score,a.coach_rating=h.coach_rating,a.coach_summary=h.coach_summary,a.talk_time_rep_pct=h.talk_time_rep_pct,a.talk_time_customer_pct=h.talk_time_customer_pct,a.talk_time_judgement=h.talk_time_judgement),R(a);const{data:T,error:S}=await A.from("meeting_attendees").select("*").eq("meeting_id",s);if(S)throw S;D(T||[]);const{data:c,error:b}=await A.from("meeting_action_items").select("*").eq("meeting_id",s).order("deadline_at",{ascending:!0});if(b)throw b;k(c||[])}catch{}finally{I(!1)}}},t=async(a,m)=>{try{const{error:h}=await A.from("meeting_action_items").update({completed:!m}).eq("id",a);if(h)throw h;k(T=>T.map(S=>S.id===a?{...S,completed:!m}:S))}catch{}},p=a=>{navigator.clipboard.writeText(a)},g=a=>{C(a),x.current?.seekToTimestamp&&x.current.seekToTimestamp(a)};if(i)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})});if(!r)return e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900/60 to-gray-900/30 backdrop-blur-xl rounded-2xl p-12 border border-gray-800/50 text-center shadow-xl",children:[e.jsx(P,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"Meeting not found"}),e.jsxs(u,{onClick:()=>n("/meetings"),className:"bg-gray-800/50 hover:bg-gray-700/50 backdrop-blur-sm border border-gray-700/50",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Back to Meetings"]})]})});const v=_.filter(a=>a.category==="Sales"||!a.assignee_email?.includes("@")||a.assignee_email?.endsWith("@sixtyseconds.video")),$=_.filter(a=>a.category==="Customer"||a.assignee_email?.includes("@")&&!a.assignee_email?.endsWith("@sixtyseconds.video")),H=r.summary?.toLowerCase().includes("demo")?{min:60,max:70}:{min:45,max:55};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs(u,{variant:"ghost",onClick:()=>n("/meetings"),className:"bg-gray-900/50 backdrop-blur-xl border border-gray-800/50 hover:bg-gray-800/50 hover:border-gray-700/60 transition-all duration-300 group",children:[e.jsx(K,{className:"h-4 w-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Meetings"]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-100 to-gray-300 bg-clip-text text-transparent",children:r.title||"Untitled Meeting"}),e.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-4",children:[r.company&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-500"}),r.company.name]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-4 w-4 text-gray-500"}),r.meeting_start?B(new Date(r.meeting_start),"dd MMM yyyy, HH:mm"):"No date"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-4 w-4 text-gray-500"}),r.duration_minutes,"m"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{variant:F(r.sentiment_score),className:"backdrop-blur-sm",children:Le(r.sentiment_score)}),r.coach_rating!==null&&e.jsxs(y,{variant:"secondary",className:"backdrop-blur-sm",children:["Coach ",r.coach_rating,"%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8 space-y-6",children:[r.share_url&&e.jsxs(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/60 to-gray-900/30 backdrop-blur-xl rounded-2xl border border-gray-800/50 shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-50"}),e.jsx($e,{ref:x,shareUrl:r.share_url,autoplay:!1,startSeconds:M,className:"relative z-10 rounded-2xl overflow-hidden"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},whileHover:{scale:1.02,y:-4},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-xl rounded-2xl p-6 border border-gray-800/50 shadow-lg hover:shadow-xl hover:border-gray-700/60 transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500/20 to-blue-600/10 backdrop-blur-sm rounded-xl border border-blue-500/20",children:e.jsx(we,{className:"h-5 w-5 text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"AI Summary"})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-line text-sm",children:r.summary||"No summary available"})}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[r.transcript_doc_url&&e.jsx(u,{size:"sm",className:"bg-gray-800/50 hover:bg-gray-700/50 backdrop-blur-sm border border-gray-700/50",asChild:!0,children:e.jsxs("a",{href:r.transcript_doc_url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"View Transcript"]})}),e.jsxs(u,{size:"sm",variant:"outline",className:"bg-gray-800/30 hover:bg-gray-700/50 backdrop-blur-sm border border-gray-700/50",onClick:()=>p(r.summary||""),children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Copy"]})]})]})]}),e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},whileHover:{scale:1.02,y:-4},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-xl rounded-2xl p-6 border border-gray-800/50 shadow-lg hover:shadow-xl hover:border-gray-700/60 transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 backdrop-blur-sm rounded-xl border border-emerald-500/20",children:e.jsx(Me,{className:"h-5 w-5 text-emerald-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Meeting Analytics"})]}),e.jsxs("div",{className:"p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Sentiment"}),e.jsx(y,{variant:F(r.sentiment_score),className:"backdrop-blur-sm text-xs",children:r.sentiment_score?.toFixed(2)||"N/A"})]}),e.jsx("div",{className:"w-full bg-gray-700/50 rounded-full h-2",children:e.jsx(l.div,{initial:{width:0},animate:{width:`${((r.sentiment_score||0)+1)*50}%`},transition:{duration:1,delay:.5},className:w("h-2 rounded-full transition-all duration-300",F(r.sentiment_score)==="success"?"bg-gradient-to-r from-emerald-500 to-emerald-400":F(r.sentiment_score)==="destructive"?"bg-gradient-to-r from-red-500 to-red-400":"bg-gradient-to-r from-gray-500 to-gray-400")})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Challenging"}),e.jsx("span",{children:"Neutral"}),e.jsx("span",{children:"Positive"})]})]}),r.coach_rating!==null&&e.jsxs("div",{className:"p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Coach Score"}),e.jsxs("div",{className:"text-lg font-bold text-gray-100",children:[r.coach_rating,"%"]})]}),e.jsx(O,{value:r.coach_rating,className:"h-2 bg-gray-700/50"}),r.coach_summary&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2 italic",children:['"',r.coach_summary,'"']})]}),(r.talk_time_rep_pct!==null||r.talk_time_customer_pct!==null)&&e.jsxs("div",{className:"p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Talk Time"}),r.talk_time_judgement&&e.jsx(y,{variant:"secondary",className:"backdrop-blur-sm text-xs",children:r.talk_time_judgement})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Sales Rep"}),e.jsxs("span",{className:"font-medium text-gray-300",children:[Math.round(r.talk_time_rep_pct||0),"%"]})]}),e.jsx(O,{value:r.talk_time_rep_pct||0,className:"h-1.5 bg-gray-700/50"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Customer"}),e.jsxs("span",{className:"font-medium text-gray-300",children:[Math.round(r.talk_time_customer_pct||0),"%"]})]}),e.jsx(O,{value:r.talk_time_customer_pct||0,className:"h-1.5 bg-gray-700/50"})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2 p-2 bg-gray-900/50 rounded-lg flex items-center gap-1",children:[e.jsx(Se,{className:"h-3 w-3"}),"Ideal: ",H.min,"-",H.max,"% rep talk time"]})]})]})]})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-4",children:[e.jsx(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.4},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-xl rounded-2xl border border-gray-800/50 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500/20 to-amber-600/10 backdrop-blur-sm rounded-xl border border-amber-500/20",children:e.jsx(Ce,{className:"h-5 w-5 text-amber-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Action Items"})]}),e.jsxs(Re,{defaultValue:"rep",className:"w-full",children:[e.jsxs(De,{className:"grid w-full grid-cols-2 bg-gray-800/30 backdrop-blur-sm border border-gray-700/50",children:[e.jsxs(ae,{value:"rep",className:"data-[state=active]:bg-gray-700/50 data-[state=active]:backdrop-blur-sm",children:[e.jsx(U,{className:"h-4 w-4 mr-1.5"}),"Rep (",v.length,")"]}),e.jsxs(ae,{value:"prospect",className:"data-[state=active]:bg-gray-700/50 data-[state=active]:backdrop-blur-sm",children:[e.jsx(W,{className:"h-4 w-4 mr-1.5"}),"Prospect (",$.length,")"]})]}),e.jsxs(re,{value:"rep",className:"space-y-3 mt-4",children:[v.map((a,m)=>e.jsx(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:m*.05},className:"p-4 bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl hover:bg-gray-700/40 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:()=>t(a.id,a.completed),className:"mt-0.5 transition-transform hover:scale-110",children:a.completed?e.jsx(X,{className:"h-5 w-5 text-emerald-400"}):e.jsx(Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:w("font-medium text-sm transition-colors",a.completed?"line-through text-gray-500":"text-gray-200"),children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-gray-400",children:a.assignee_name}),a.priority&&e.jsx(y,{className:w("text-xs backdrop-blur-sm",ze(a.priority)),children:a.priority}),a.deadline_at&&e.jsxs("span",{className:"text-gray-500",children:["Due ",B(new Date(a.deadline_at),"dd MMM")]})]}),a.timestamp_seconds!==null&&e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(u,{size:"sm",variant:"outline",onClick:()=>g(a.timestamp_seconds),className:"h-7 text-xs bg-gray-800/50 hover:bg-gray-700/50 backdrop-blur-sm border border-gray-700/50",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),ie(a.timestamp_seconds)]}),a.playback_url&&e.jsx(u,{size:"sm",variant:"outline",asChild:!0,className:"h-7 text-xs bg-gray-800/50 hover:bg-gray-700/50 backdrop-blur-sm border border-gray-700/50",children:e.jsx("a",{href:a.playback_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(z,{className:"h-3 w-3"})})})]})]})]})},a.id)),v.length===0&&e.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No action items for sales rep"})]}),e.jsxs(re,{value:"prospect",className:"space-y-3 mt-4",children:[$.map((a,m)=>e.jsx(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:m*.05},className:"p-4 bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 rounded-xl hover:bg-gray-700/40 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("button",{onClick:()=>t(a.id,a.completed),className:"mt-0.5 transition-transform hover:scale-110",children:a.completed?e.jsx(X,{className:"h-5 w-5 text-emerald-400"}):e.jsx(Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:w("font-medium text-sm transition-colors",a.completed?"line-through text-gray-500":"text-gray-200"),children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-gray-400",children:a.assignee_name}),a.deadline_at&&e.jsxs("span",{className:"text-gray-500",children:["Due ",B(new Date(a.deadline_at),"dd MMM")]})]}),a.timestamp_seconds!==null&&e.jsxs(u,{size:"sm",variant:"outline",onClick:()=>g(a.timestamp_seconds),className:"h-7 text-xs bg-gray-800/50 hover:bg-gray-700/50 backdrop-blur-sm border border-gray-700/50 mt-2",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),ie(a.timestamp_seconds)]})]})]})},a.id)),$.length===0&&e.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No action items for prospect"})]})]})]})}),e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-xl rounded-2xl p-6 border border-gray-800/50 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500/20 to-purple-600/10 backdrop-blur-sm rounded-xl border border-purple-500/20",children:e.jsx(W,{className:"h-5 w-5 text-purple-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Attendees"})]}),e.jsxs("div",{className:"space-y-3",children:[j.map((a,m)=>e.jsxs(l.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2,delay:m*.05},className:"flex items-center justify-between p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50 hover:bg-gray-700/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"h-4 w-4 text-gray-300"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-200",children:a.name}),e.jsx("div",{className:"text-xs text-gray-400",children:a.email})]})]}),e.jsx(y,{variant:a.is_external?"outline":"secondary",className:"backdrop-blur-sm text-xs",children:a.is_external?"External":"Internal"})]},a.id)),j.length===0&&e.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No attendees recorded"})]})]})]}),e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.6},className:"relative overflow-hidden bg-gradient-to-br from-gray-900/80 to-gray-900/40 backdrop-blur-xl rounded-2xl p-6 border border-gray-800/50 shadow-lg hover:shadow-xl transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500/20 to-indigo-600/10 backdrop-blur-sm rounded-xl border border-indigo-500/20",children:e.jsx(Te,{className:"h-5 w-5 text-indigo-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"CRM Links"})]}),e.jsxs("div",{className:"space-y-3",children:[r.company&&e.jsxs(Y,{to:`/companies/${r.company.id}`,className:"flex items-center justify-between p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50 hover:bg-gray-700/30 transition-all group/link",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400 group-hover/link:text-indigo-400 transition-colors"}),e.jsx("span",{className:"text-sm text-gray-300 group-hover/link:text-gray-100 transition-colors",children:r.company.name})]}),e.jsx(z,{className:"h-4 w-4 text-gray-500 group-hover/link:text-gray-400 transition-colors"})]}),r.contact&&e.jsxs(Y,{to:`/contacts/${r.contact.id}`,className:"flex items-center justify-between p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50 hover:bg-gray-700/30 transition-all group/link",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400 group-hover/link:text-indigo-400 transition-colors"}),e.jsx("span",{className:"text-sm text-gray-300 group-hover/link:text-gray-100 transition-colors",children:[r.contact.first_name,r.contact.last_name].filter(Boolean).join(" ")||r.contact.email})]}),e.jsx(z,{className:"h-4 w-4 text-gray-500 group-hover/link:text-gray-400 transition-colors"})]}),r.share_url&&e.jsxs("a",{href:r.share_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-gray-800/30 backdrop-blur-sm rounded-xl border border-gray-700/50 hover:bg-gray-700/30 transition-all group/link",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-gray-400 group-hover/link:text-indigo-400 transition-colors"}),e.jsx("span",{className:"text-sm text-gray-300 group-hover/link:text-gray-100 transition-colors",children:"Open in Fathom"})]}),e.jsx(z,{className:"h-4 w-4 text-gray-500 group-hover/link:text-gray-400 transition-colors"})]})]})]})]})]})]})]})},Ze=()=>e.jsxs(pe,{children:[e.jsx(J,{index:!0,element:e.jsx(Ie,{})}),e.jsx(J,{path:":id",element:e.jsx(Pe,{})})]});export{Ze as default};
