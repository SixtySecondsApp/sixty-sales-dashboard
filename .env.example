# Sales Dashboard MCP Server Configuration
# Copy this file to .env and fill in your actual values
# We use .env as the single source of truth (avoid .env.local / .env.production etc.)
# These variables are used by both the MCP server and frontend (Vite)
#
# =============================================================================
# DEVELOPMENT ENVIRONMENT SETUP
# =============================================================================
# For local development, use the Development branch (preview branch) instead of production.
# This keeps your local changes isolated from production data.
#
# To get your Development branch URL:
# 1. Go to Supabase Dashboard → https://supabase.com/dashboard
# 2. Select your project (ewtuefzeogytgmsnkpmb)
# 3. Click "Branches" in the left sidebar
# 4. Click on "development-v2" (or "Development")
# 5. Click "Connect" and copy the URL
#
# The anon key is the SAME for all branches in the same project.
# =============================================================================

# Supabase URL - Use your Development branch URL for local dev
# Production: https://ewtuefzeogytgmsnkpmb.supabase.co
# Development: https://[branch-ref].supabase.co (get from Supabase Dashboard → Branches → Connect)
VITE_SUPABASE_URL="https://your-branch-ref.supabase.co"

# Supabase Anon Key (Publishable Key) - Same for all branches in the project
# Get this from: Supabase Dashboard → Settings → API → anon/public key
VITE_SUPABASE_ANON_KEY="your-anon-key"

# Supabase backend URL for MCP server (same as VITE_SUPABASE_URL)
SUPABASE_URL="https://your-branch-ref.supabase.co"

# Supabase service role key (⚠️ Keep secret! Never commit to git)
# Get this from: Supabase Dashboard → Settings → API → service_role key
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"

# Optional: User ID for MCP operations (leave empty if not needed)
USER_ID=""

# Freepik API Key (for Mystic, Upscale, and Kling)
# Get this from: https://www.freepik.com/api/dashboard
VITE_FREEPIK_API_KEY="your-freepik-api-key"

# Multi-Tenant Architecture
# Set to "true" to enable multi-organization support
# When disabled, operates in single-tenant mode with default organization
VITE_MULTI_TENANT_ENABLED="true"

# Default Organization ID (optional, only used when VITE_MULTI_TENANT_ENABLED="false")
# This auto-resolves organization for all operations in single-tenant mode
VITE_DEFAULT_ORG_ID=""

# Public app URL (used for generating links + webhook URLs in UI)
# Local: http://localhost:5173
# Prod:  https://app.use60.com (or your branded domain)
VITE_PUBLIC_URL="http://localhost:5173"

# Slack OAuth (frontend)
# Required for Slack connect flows in production UI
VITE_SLACK_CLIENT_ID=""

# =============================================================================
# CLERK AUTHENTICATION (Optional - for centralized auth across Supabase branches)
# =============================================================================
# Clerk enables shared authentication across all Supabase branches
# (production, development, preview PRs) solving UUID mismatch issues

# Clerk Publishable Key (safe for frontend)
# Get this from: Clerk Dashboard → API Keys → Publishable key
VITE_CLERK_PUBLISHABLE_KEY=""

# Clerk Secret Key (server-side only, ⚠️ Keep secret!)
# Get this from: Clerk Dashboard → API Keys → Secret keys
CLERK_SECRET_KEY=""

# Feature flag to switch between Supabase Auth and Clerk Auth
# Set to 'true' to enable Clerk, 'false' to use Supabase Auth (default)
VITE_USE_CLERK_AUTH="false"

# =============================================================================
# EXTERNAL SUPABASE PROJECT (Customer-Facing View)
# =============================================================================
# The external project contains only customer-facing features:
# - Meetings & Meeting Intelligence
# - Team Analytics
# - User Settings & Profile
#
# Both projects share Clerk authentication for unified user identity.
# =============================================================================

# External Supabase URL
# Customer-facing project for external users
VITE_EXTERNAL_SUPABASE_URL=""

# External Supabase Anon Key
# Get this from: External project → Settings → API → anon/public key
VITE_EXTERNAL_SUPABASE_ANON_KEY=""

# External Supabase Service Role Key (⚠️ Keep secret! Server-side only)
# Get this from: External project → Settings → API → service_role key
EXTERNAL_SUPABASE_SERVICE_ROLE_KEY=""

# External Project ID (for reference)
EXTERNAL_SUPABASE_PROJECT_ID=""

# Encharge.io Email Integration
ENCHARGE_API_KEY=
ENCHARGE_WRITE_KEY=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=eu-west-2

# Sentry Error Monitoring
VITE_SENTRY_DSN=
VITE_SENTRY_ENABLED=false

# =============================================================================
# SENTRY BRIDGE (Auto-ticketing from Sentry to AI Dev Hub)
# =============================================================================
# Webhook Security
# Secret for Sentry to sign webhook payloads (configure in Sentry Integration settings)
SENTRY_WEBHOOK_SECRET=""
# Secret for signing proxied requests from Vercel to Supabase Edge Function
SENTRY_WEBHOOK_PROXY_SECRET=""

# AI Dev Hub MCP Integration
# URL to the AI Dev Hub MCP server for creating tickets
AI_DEV_HUB_MCP_URL=""


# =============================================================================
# SUPABASE EDGE FUNCTION SECRETS (set via supabase secrets set, not Vite)
# =============================================================================
# These are read by Supabase Edge Functions (Deno), not by the Vite frontend.
#
# -- Shared URL settings (used by Slack/Fathom functions for redirects/links)
APP_URL="http://localhost:5173"
PUBLIC_URL="http://localhost:5173"
SITE_URL="http://localhost:5173"

# -- Slack security (required in production)
SLACK_SIGNING_SECRET=""
# Local-only escape hatch for signature checks
ALLOW_INSECURE_SLACK_SIGNATURES="false"

# -- Fathom OAuth (required for token exchange + refresh)
FATHOM_CLIENT_ID=""
FATHOM_CLIENT_SECRET=""
# Should point to the Edge Function callback:
#   https://<your-supabase-project>.supabase.co/functions/v1/fathom-oauth-callback
FATHOM_REDIRECT_URI=""

# -- Fathom webhook hardening
# Must match between Vercel (api/webhooks/fathom) and Supabase Edge (fathom-webhook)
FATHOM_WEBHOOK_PROXY_SECRET=""
# Optional (recommended if you configure Fathom webhook signing)
FATHOM_WEBHOOK_SECRET=""
